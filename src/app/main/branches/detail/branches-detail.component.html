<o-form fxLayout="column" editable-detail="true" show-header="yes" header-actions="R;D" service="branches" entity="branch"
  keys="OFFICEID" #oForm columns="OFFICEID;NAME;ADDRESS;STARTDATE;DETAILS;PHONE;OFFICEXML;BRANCHPLAN;MINLATITUDE;MAXLATITUDE;MINLONGITUDE;MAXLONGITUDE;GEOMETRYLAYOUT"
  show-header-navigation="yes" (onDataLoaded)="onFormDataLoaded($event)">
  <div>
    <div fxLayout="row wrap">
      <o-column class="rounded-panel" title-label="BRANCH_INFO" fxFlex="60" fxFlex.md="100">
        <div fxLayout="row" fxLayoutAlign="start center">
          <o-text-input #officeId attr="OFFICEID" fxFlex="20" class="margin-right-24"></o-text-input>
          <o-text-input attr="PHONE" fxFlex="35" class="margin-right-24"></o-text-input>
          <o-date-input attr="STARTDATE" fxFlex="35" class="margin-right-24"></o-date-input>
        </div>
        <o-text-input attr="NAME"></o-text-input>
        <o-text-input attr="ADDRESS"></o-text-input>

      </o-column>
      <div fxFlex="40" fxFlex.md="100" *ngIf="hasGPSPositition()">
        <o-map [center]="getPositionGPS()" zoom="6" min-zoom="3" max-zoom="20" zoom-control="yes" search-control="no"
          layer-panel-visible="no">
          <o-map-layer layer-type="marker" layer-id="office_marker" [layer-center]="getPositionGPS()"
            [layer-menu-label]="name"></o-map-layer>
        </o-map>
      </div>
    </div>
  </div>
  <mat-tab-group class="
            vertical-padding-8">

    <mat-tab label="{{ 'ACCOUNTS' | oTranslate }}">
      <div layout-padding>
        <o-table #accountsTable service="customers" entity="customerAccount" title="ACCOUNTS" columns="ACCOUNTID;ENTITYID;OFFICEID;CDID;ANID;ACCOUNT;BALANCE;CUSTOMERID;CUSTOMER;STARTDATE;ENDDATE"
          visible-columns="ACCOUNT;CUSTOMER;BALANCE;STARTDATE;ENDDATE" updateentityeditablecolumns="ACCOUNT;BALANCE;STARTDATE;ENDDATE"
          sort-columns="STARTDATE" keys="ACCOUNTID" parent-keys="OFFICEID" query-on-init="false" query-rows="5"
          quick-filter="yes" detail-form-route="accounts" edit-form-route="accounts" edit-button-in-row="yes" pageable="no"
          delete-button="no" insert-button="no">

          <o-table-column attr="STARTDATE" title="STARTDATE" type="date" format="LL"></o-table-column>
          <o-table-column attr="BALANCE" title="BALANCE" type="currency" currency-symbol="â‚¬" currency-symbol-position="right"
            thousand-separator="." decimal-separator=",">
          </o-table-column>
          <o-table-column attr="ENDDATE" title="ENDDATE" type="date" format="LL"></o-table-column>
        </o-table>
      </div>
    </mat-tab>

    <mat-tab label="{{ 'BRANCH_PLAN' | oTranslate }}">
      <o-column>
        <!-- <o-file-input attr="BRANCH_PLAN" service="branches" entity="plan" accept-file-type="image/*" show-info="yes" (onUploadFile)="onUploadFile($event)"
          [additional-data]="getFileData()" layout-padding></o-file-input> -->
        <o-image attr="BRANCHPLAN" class="branch-plan" empty-image="./assets/images/no-image.png" enabled="no"></o-image>
      </o-column>
    </mat-tab>

  </mat-tab-group>

</o-form>